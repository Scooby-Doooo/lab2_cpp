
# Звіт

**Варіант:** 9 (merge)
**Дата:** 20 жовтня 2025


## Як тестував
- CPU: 16 потоків (MSVC, Release x64)
- Дані: 100K, 1M, 10M відсортованих чисел
- Кожен тест — 5 запусків, середнє значення

---

## Що показав std::merge
Базовий merge працює стабільно, час росте майже лінійно з розміром даних:

| Розмір | Час (ms) |
|--------|----------|
| 100K   | 0.8      |
| 1M     | 6.7      |
| 10M    | 36       |

---

## Чи допомагають execution policies?
Використав `seq`, `par`, `par_unseq`:
- На малих даних прискорення до 27%
- На великих — максимум 12%
- Паралельна політика майже не дає виграшу (memory-bound!)

| Політика      | 100K | 1M | 10M |
|---------------|------|----|-----|
| baseline      | 0.8  | 6.7| 36  |
| seq           | 0.7  | 6.6| 32.6|
| par           | 0.65 | 6.3| 35.7|
| par_unseq     | 0.64 | 6.4| 32.0|

---

## Власний паралельний merge (K-потоків)
Розбивав дані на K частин, кожна частина — окремий потік, потім зводив результат.

| K  | Час (ms) | Speedup |
|----|----------|---------|
| 1  | 53.0     | 1.00x   |
| 2  | 46.5     | 1.14x   |
| 4  | 40.6     | 1.31x   |
| 8  | 31.8     | 1.67x   |
| 16 | 35.6     | 1.49x   |
| 32 | 36.9     | 1.44x   |
| 64 | 53.2     | 1.00x   |

Найкраще — K=8 (тобто половина потоків CPU). Далі — деградація через перевантаження пам'яті та кешу.

---

## Висновки
- Execution policies для merge — майже марні
- Власний merge з K=CPU/2 — найкращий варіант
- Надмірний паралелізм шкодить
- Merge — це memory-bound, а не CPU-bound

### Рекомендація:
```cpp
unsigned int optimal_K = std::thread::hardware_concurrency() / 2;
```

---

## Відповіді на завдання
- Найкраща швидкість при K=8
- Це половина потоків CPU (16 → 8)
- Час зменшується до K=8, далі росте через overhead

---

## Структура програми
- IMergeStrategy — інтерфейс
- SequentialMergeStrategy — стандартний merge
- ParallelMergeStrategy — паралельний merge
- BenchmarkRunner — вимірювання часу
- ExperimentRunner — запуск експериментів
- DataGenerator — генерація даних
- Timer — заміри часу

---

**Дата виконання:** 20 жовтня 2025
**Режим компіляції:** Release x64
